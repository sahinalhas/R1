{% extends "base.html" %}

{% block title %}Öğrenci Takip Platformu - Dijital Rehberlik Hizmetleri{% endblock %}

{% block content %}
<!-- Flash Messages -->
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="container-fluid flash-container" style="position: fixed; top: 20px; right: 20px; z-index: 9999; max-width: 400px;">
            {% for category, message in messages %}
                <div class="alert alert-{{ 'danger' if category == 'error' else category }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}

<!-- Ana İçerik -->
{% if current_user.is_authenticated %}
<!-- Giriş yapılmış kullanıcılar için dashboard -->

<!-- Hero Section - Video Background ile Daha Etkileyici -->
<section class="hero-modern">
    <div class="hero-overlay"></div>
    <video autoplay muted loop class="hero-video">
        <source src="https://cdn.dribbble.com/uploads/48226/original/b8bd4e4273cceae2889d9d259b04f732.mp4?1689028949" type="video/mp4">
    </video>
    <div class="container hero-container">
        <div class="row align-items-center">
            <div class="col-lg-7" data-aos="fade-up">
                <h1 class="hero-title-modern">Hoş Geldiniz, <span class="text-gradient">{{ current_user.tam_ad }}</span></h1>
                <p class="hero-subtitle-modern">Yapay zeka destekli rehberlik sistemi ile öğrencilerinizin akademik başarılarını ve kişisel gelişimlerini maksimize edin. Veri odaklı bir yaklaşımla eğitim kalitesini artırın.</p>
                <div class="hero-buttons">
                    <a href="{{ url_for('ogrenci_yonetimi.liste') }}" class="btn-modern-primary">
                        <span>Öğrenci Yönetimi</span>
                        <i class="fas fa-arrow-right"></i>
                    </a>
                    <a href="#moduller" class="btn-video ms-3">
                        <span class="btn-video-icon">
                            <i class="fas fa-th-large"></i>
                        </span>
                        <span class="btn-video-text">Modüller</span>
                    </a>
                </div>
            </div>
            <div class="col-lg-5 d-none d-lg-block" data-aos="fade-left" data-aos-delay="200">
                <div class="hero-image-wrapper">
                    <img src="https://cdn.dribbble.com/users/2547176/screenshots/15816470/media/5ede794d090b956a7aac924762d4d387.png" alt="Dijital Rehberlik Platformu" class="hero-image">
                    <div class="floating-card card-stats">
                        <div class="float-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="float-content">
                            <div class="float-title">Başarı Analizi</div>
                            <div class="float-value">%{{ ortalama_ilerleme|round(1) }} Artış</div>
                        </div>
                    </div>
                    <div class="floating-card card-users">
                        <div class="float-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="float-content">
                            <div class="float-title">Aktif Kullanıcı</div>
                            <div class="float-value">{{ ogrenci_sayisi }}+</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="hero-wave">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
            <path fill="#ffffff" fill-opacity="1" d="M0,224L48,213.3C96,203,192,181,288,181.3C384,181,480,203,576,202.7C672,203,768,181,864,170.7C960,160,1056,160,1152,170.7C1248,181,1344,203,1392,213.3L1440,224L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
        </svg>
    </div>
</section>

{% else %}
<!-- Giriş yapmamış kullanıcılar için welcome + login -->
<section class="hero-modern-fullwidth">
    <div class="container-fluid p-0">
        <div class="row g-0 min-vh-100">
            <!-- Sol taraf - Ana içerik -->
            <div class="col-lg-8 hero-content-side" data-aos="fade-right">
                <div class="hero-overlay"></div>
                <video autoplay muted loop class="hero-video-left">
                    <source src="https://cdn.dribbble.com/uploads/48226/original/b8bd4e4273cceae2889d9d259b04f732.mp4?1689028949" type="video/mp4">
                </video>
                <div class="hero-content-wrapper">
                    <div class="hero-content-inner">
                        <div class="hero-badge mb-4">
                            <span class="badge bg-gradient-primary px-3 py-2">
                                <i class="fas fa-graduation-cap me-2"></i>
                                Türkiye'nin #1 Rehberlik Platformu
                            </span>
                        </div>
                        
                        <h1 class="hero-title-mega">
                            Eğitimde Yeni Nesil 
                            <span class="text-gradient-rainbow">Dijital Dönüşüm</span>
                        </h1>
                        
                        <p class="hero-subtitle-large">
                            Yapay zeka destekli rehberlik sistemi ile öğrencilerinizin akademik başarılarını ve kişisel gelişimlerini maksimize edin. Veri odaklı yaklaşımla eğitim kalitesini artırın.
                        </p>
                        
                        <!-- Özellik vurguları -->
                        <div class="feature-highlights mb-5">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <div class="feature-item">
                                        <div class="feature-icon">
                                            <i class="fas fa-chart-line"></i>
                                        </div>
                                        <div class="feature-content">
                                            <h6>Akıllı Analiz</h6>
                                            <p>Yapay zeka destekli performans analizi</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="feature-item">
                                        <div class="feature-icon">
                                            <i class="fas fa-users"></i>
                                        </div>
                                        <div class="feature-content">
                                            <h6>Kapsamlı Takip</h6>
                                            <p>Öğrenci ve veli görüşme sistemi</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="feature-item">
                                        <div class="feature-icon">
                                            <i class="fas fa-calendar-alt"></i>
                                        </div>
                                        <div class="feature-content">
                                            <h6>Akıllı Planlama</h6>
                                            <p>Kişiselleştirilmiş çalışma programları</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="feature-item">
                                        <div class="feature-icon">
                                            <i class="fas fa-file-chart-line"></i>
                                        </div>
                                        <div class="feature-content">
                                            <h6>Detaylı Raporlar</h6>
                                            <p>PDF ve Excel formatında raporlama</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- İstatistikler -->
                        <div class="hero-stats">
                            <div class="row g-4">
                                <div class="col-4">
                                    <div class="stat-item">
                                        <div class="stat-number">{{ ogrenci_sayisi }}</div>
                                        <div class="stat-label">Aktif Öğrenci</div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="stat-item">
                                        <div class="stat-number">{{ ders_sayisi }}</div>
                                        <div class="stat-label">Ders</div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="stat-item">
                                        <div class="stat-number">%{{ ortalama_ilerleme|round(1) }}</div>
                                        <div class="stat-label">Başarı Oranı</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="hero-buttons mt-5">
                            <a href="#moduller" class="btn-explore-features">
                                <span>Platform Özelliklerini Keşfedin</span>
                                <i class="fas fa-arrow-down"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Sağ taraf - Giriş ve kayıt -->
            <div class="col-lg-4 auth-side" data-aos="fade-left">
                <div class="auth-container">
                    <div class="auth-header text-center mb-5">
                        <div class="auth-logo mb-4">
                            <div class="logo-circle">
                                <i class="fas fa-graduation-cap"></i>
                            </div>
                        </div>
                        <h2 class="auth-title">Sisteme Giriş</h2>
                        <p class="auth-subtitle">Hesabınızla giriş yapın ve dijital rehberlik dünyasına adım atın</p>
                    </div>
                    
                    <!-- Giriş Formu -->
                    <div class="auth-form-container" id="login-section">
                        {% if login_form %}
                        <form method="POST" action="{{ url_for('auth.login') }}" class="auth-form">
                            {{ login_form.hidden_tag() }}
                            
                            <div class="form-group mb-4">
                                <div class="input-wrapper">
                                    <i class="fas fa-envelope input-icon"></i>
                                    {{ login_form.email(class="form-control form-control-modern", placeholder="E-posta adresiniz") }}
                                </div>
                                {% for error in login_form.email.errors %}
                                    <div class="error-message">{{ error }}</div>
                                {% endfor %}
                            </div>
                            
                            <div class="form-group mb-4">
                                <div class="input-wrapper">
                                    <i class="fas fa-lock input-icon"></i>
                                    {{ login_form.password(class="form-control form-control-modern", placeholder="Parolanız") }}
                                </div>
                                {% for error in login_form.password.errors %}
                                    <div class="error-message">{{ error }}</div>
                                {% endfor %}
                            </div>
                            
                            <div class="form-options mb-4">
                                <div class="form-check">
                                    {{ login_form.remember_me(class="form-check-input") }}
                                    {{ login_form.remember_me.label(class="form-check-label") }}
                                </div>
                                <a href="#" class="forgot-link">Parolamı Unuttum</a>
                            </div>
                            
                            <div class="d-grid mb-4">
                                {{ login_form.submit(class="btn btn-auth-primary") }}
                            </div>
                        </form>
                        {% endif %}
                        
                        <!-- Kayıt ol bağlantısı -->
                        <div class="auth-footer text-center">
                            <div class="divider">
                                <span>veya</span>
                            </div>
                            <p class="register-text">
                                Henüz hesabınız yok mu?
                            </p>
                            <a href="{{ url_for('auth.register') }}" class="btn btn-auth-secondary">
                                <i class="fas fa-user-plus me-2"></i>
                                Yeni Hesap Oluştur
                            </a>
                        </div>
                        
                        <!-- Demo bilgisi -->
                        <div class="demo-info mt-4">
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle me-2"></i>
                                <strong>Demo için:</strong> Kayıt olmadan platforma giriş yapabilir ve tüm özellikleri keşfedebilirsiniz.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Modern İstatistikler -->
<section class="py-5">
    <div class="container">
        <div class="row g-4">
            <div class="col-lg-3 col-md-6" data-aos="zoom-in" data-aos-delay="100">
                <div class="stat-modern-card">
                    <i class="fas fa-user-graduate text-white mb-3" style="font-size: 2.5rem;"></i>
                    <div class="stat-value-modern">{{ ogrenci_sayisi }}</div>
                    <div class="stat-label-modern">Aktif Öğrenci</div>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6" data-aos="zoom-in" data-aos-delay="200">
                <div class="stat-modern-card">
                    <i class="fas fa-book text-white mb-3" style="font-size: 2.5rem;"></i>
                    <div class="stat-value-modern">{{ ders_sayisi }}</div>
                    <div class="stat-label-modern">Ders</div>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6" data-aos="zoom-in" data-aos-delay="300">
                <div class="stat-modern-card">
                    <i class="fas fa-list text-white mb-3" style="font-size: 2.5rem;"></i>
                    <div class="stat-value-modern">{{ konu_sayisi }}</div>
                    <div class="stat-label-modern">Konu</div>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6" data-aos="zoom-in" data-aos-delay="400">
                <div class="stat-modern-card">
                    <i class="fas fa-chart-line text-white mb-3" style="font-size: 2.5rem;"></i>
                    <div class="stat-value-modern">%{{ ortalama_ilerleme|round(1) }}</div>
                    <div class="stat-label-modern">Başarı Oranı</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Hızlı erişim menüsü -->
<section class="quick-access py-6" id="moduller">
    <div class="container">
        <div class="section-header text-center mb-5" data-aos="fade-up">
            <h6 class="section-pre-title">HIZLI ERİŞİM</h6>
            <h2 class="section-title-modern">Tüm Modüllere Kolay Erişim</h2>
            <p class="section-description">Platformumuzun tüm özelliklerine buradan ulaşabilirsiniz</p>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="100">
                <div class="quick-access-modern">
                    <div class="quick-access-icon-modern">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3 class="quick-access-title-modern">Öğrenci Yönetimi</h3>
                    <p class="quick-access-desc-modern">Öğrenci kayıtları, detaylı profil yönetimi ve sınıf organizasyonu</p>
                    <div class="d-flex gap-2">
                        <a href="{{ url_for('ogrenci_yonetimi.liste') }}" class="btn btn-outline-light flex-fill">
                            <i class="fas fa-list me-2"></i> Listele
                        </a>
                        <a href="{{ url_for('ogrenci_yonetimi.ekle') }}" class="btn btn-light flex-fill">
                            <i class="fas fa-plus me-2"></i> Ekle
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="200">
                <div class="quick-access-modern">
                    <div class="quick-access-icon-modern">
                        <i class="fas fa-comments"></i>
                    </div>
                    <h3 class="quick-access-title-modern">Görüşme Yönetimi</h3>
                    <p class="quick-access-desc-modern">Öğrenci ve veli görüşmeleri, planlama ve kayıt sistemi</p>
                    <div class="d-flex gap-2">
                        <a href="{{ url_for('gorusme_defteri.index') }}" class="btn btn-outline-light flex-fill">
                            <i class="fas fa-list me-2"></i> Görüşmeler
                        </a>
                        <a href="{{ url_for('gorusme_defteri.index') }}" class="btn btn-light flex-fill">
                            <i class="fas fa-plus me-2"></i> Yeni
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="300">
                <div class="quick-access-modern">
                    <div class="quick-access-icon-modern">
                        <i class="fas fa-book"></i>
                    </div>
                    <h3 class="quick-access-title-modern">Ders Konu Yönetimi</h3>
                    <p class="quick-access-desc-modern">Ders ve konu yapılandırması, müfredat takibi</p>
                    <div class="d-flex gap-2">
                        <a href="{{ url_for('ders_konu_yonetimi.lista') }}" class="btn btn-outline-light flex-fill">
                            <i class="fas fa-list me-2"></i> Dersler
                        </a>
                        <a href="{{ url_for('ders_konu_yonetimi.ekle') }}" class="btn btn-light flex-fill">
                            <i class="fas fa-plus me-2"></i> Yeni
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="400">
                <div class="quick-access-card">
                    <div class="quick-access-icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <h3 class="quick-access-title">Çalışma Programı</h3>
                    <p class="quick-access-desc">Kişiselleştirilmiş çalışma programları ve takip sistemi</p>
                    <div class="quick-access-actions">
                        <a href="{{ url_for('ogrenci_yonetimi.liste') }}" class="btn btn-outline-primary">
                            <i class="fas fa-list me-2"></i> Programlar
                        </a>
                        <a href="{{ url_for('ogrenci_yonetimi.liste') }}" class="btn btn-primary">
                            <i class="fas fa-plus me-2"></i> Oluştur
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="500">
                <div class="quick-access-card">
                    <div class="quick-access-icon">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <h3 class="quick-access-title">Deneme Sınavları</h3>
                    <p class="quick-access-desc">Deneme sınavı sonuçları ve analiz raporları</p>
                    <div class="quick-access-actions">
                        <a href="{{ url_for('ogrenci_yonetimi.liste') }}" class="btn btn-outline-primary">
                            <i class="fas fa-list me-2"></i> Sınavlar
                        </a>
                        <a href="{{ url_for('ogrenci_yonetimi.liste') }}" class="btn btn-primary">
                            <i class="fas fa-plus me-2"></i> Ekle
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="600">
                <div class="quick-access-card">
                    <div class="quick-access-icon">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <h3 class="quick-access-title">Raporlar</h3>
                    <p class="quick-access-desc">Kapsamlı raporlar ve veri analizi</p>
                    <div class="quick-access-actions">
                        <a href="{{ url_for('rapor_yonetimi.rapor_yonetimi_index') }}" class="btn btn-outline-primary">
                            <i class="fas fa-chart-line me-2"></i> İlerleme
                        </a>
                        <a href="{{ url_for('rapor_yonetimi.rapor_yonetimi_index') }}" class="btn btn-primary">
                            <i class="fas fa-comments me-2"></i> Görüşme
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="700">
                <div class="quick-access-card">
                    <div class="quick-access-icon">
                        <i class="fas fa-poll"></i>
                    </div>
                    <h3 class="quick-access-title">Anket Yönetimi</h3>
                    <p class="quick-access-desc">Özelleştirilebilir anketler ve değerlendirmeler</p>
                    <div class="quick-access-actions">
                        <a href="{{ url_for('anket_yonetimi.index') }}" class="btn btn-outline-primary">
                            <i class="fas fa-list me-2"></i> Anketler
                        </a>
                        <a href="{{ url_for('anket_yonetimi.yeni_anket') }}" class="btn btn-primary">
                            <i class="fas fa-plus me-2"></i> Yeni
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="800">
                <div class="quick-access-card">
                    <div class="quick-access-icon">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <h3 class="quick-access-title">Etkinlik Kayıt</h3>
                    <p class="quick-access-desc">Etkinlik planlama ve katılım takibi</p>
                    <div class="quick-access-actions">
                        <a href="{{ url_for('etkinlik_kayit.index') }}" class="btn btn-outline-primary">
                            <i class="fas fa-list me-2"></i> Etkinlikler
                        </a>
                        <a href="{{ url_for('etkinlik_kayit.yeni_etkinlik') }}" class="btn btn-primary">
                            <i class="fas fa-plus me-2"></i> Ekle
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="900">
                <div class="quick-access-card">
                    <div class="quick-access-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h3 class="quick-access-title">Sistem Ayarları</h3>
                    <p class="quick-access-desc">Parametre yönetimi ve sistem yapılandırması</p>
                    <div class="quick-access-actions">
                        <a href="{{ url_for('parametre_yonetimi.index') }}" class="btn btn-outline-primary">
                            <i class="fas fa-wrench me-2"></i> Parametreler
                        </a>
                        <a href="{{ url_for('yapay_zeka_asistan.index') }}" class="btn btn-primary">
                            <i class="fas fa-robot me-2"></i> YZ Asistan
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Modern Footer -->
<footer class="footer-modern">
    <div class="container">
        <div class="footer-modern-top">
            <div class="row">
                <div class="col-lg-4 mb-4 mb-lg-0">
                    <div class="footer-brand">
                        <h3 class="footer-brand-name">Öğrenci<span class="text-primary">Takip</span></h3>
                        <p class="footer-brand-description">Türkiye'nin lider dijital rehberlik ve öğrenci takip platformu. Yapay zeka destekli analiz ve raporlama özellikleriyle eğitimde fark yaratın.</p>
                    </div>
                    <div class="footer-social">
                        <a href="#" class="footer-social-link"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="footer-social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="footer-social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="footer-social-link"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#" class="footer-social-link"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 col-6 mb-4 mb-md-0">
                    <h5 class="footer-title">Platformumuz</h5>
                    <ul class="footer-links">
                        <li><a href="#" class="footer-link">Modüller</a></li>
                        <li><a href="#" class="footer-link">Entegrasyonlar</a></li>
                        <li><a href="#" class="footer-link">Kurumsal Çözümler</a></li>
                        <li><a href="#" class="footer-link">Gelecek Özellikler</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-4 col-6 mb-4 mb-md-0">
                    <h5 class="footer-title">Destek</h5>
                    <ul class="footer-links">
                        <li><a href="#" class="footer-link">Yardım Merkezi</a></li>
                        <li><a href="#" class="footer-link">Eğitim Videoları</a></li>
                        <li><a href="#" class="footer-link">SSS</a></li>
                        <li><a href="#" class="footer-link">İletişim</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-4 col-6 mb-4 mb-md-0">
                    <h5 class="footer-title">Yasal</h5>
                    <ul class="footer-links">
                        <li><a href="#" class="footer-link">Gizlilik Politikası</a></li>
                        <li><a href="#" class="footer-link">Kullanım Şartları</a></li>
                        <li><a href="#" class="footer-link">KVKK</a></li>
                        <li><a href="#" class="footer-link">Çerez Politikası</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-4 col-6">
                    <h5 class="footer-title">İletişim</h5>
                    <ul class="footer-links footer-contact">
                        <li>
                            <a href="tel:+902161234567" class="footer-link">
                                <i class="fas fa-phone-alt me-2"></i> +90 216 123 45 67
                            </a>
                        </li>
                        <li>
                            <a href="mailto:info@ogrencitakip.com" class="footer-link">
                                <i class="fas fa-envelope me-2"></i> info@ogrencitakip.com
                            </a>
                        </li>
                        <li>
                            <a href="#" class="footer-link">
                                <i class="fas fa-map-marker-alt me-2"></i> İstanbul, Türkiye
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-modern-bottom">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="footer-copyright">© 2025 ÖğrenciTakip. Tüm hakları saklıdır.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <div class="footer-legal-links">
                        <a href="#" class="footer-legal-link">Gizlilik</a>
                        <a href="#" class="footer-legal-link">Şartlar</a>
                        <a href="#" class="footer-legal-link">Çerezler</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>
{% endblock %}
